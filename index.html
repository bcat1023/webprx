<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Aeries</title>
  <base id="base" href="https://deploy-preview-21--titannetwork.netlify.app/">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Titan network, we got everything">
</head>

<body id="body" style="background-image: url('/img/back.webp');" onload="loafhide()">
  <header>
    <img class="loaf" alt="loading-icon" id="loader" src=" ./img/loader.gif">
    <div class="navbar" id="mynavbar">
      <img class="logo" style="height:30px;margin-top: 10px;margin-left: 5px;" src="/img/active.gif">
      <a onclick="window.location.reload()" class="logo">Titan Network</a>
      <a onclick="openPage(event, 'Now Playing');">Currently Playing</a>
      <a onclick="backstop(1);openPage(event, 'contact');">Game Request</a>
      <a onclick="backstop(1);openPage(event, 'games');">Games</a>
      <a aria-label="Moblie-Menu" class="icon" onclick="borger()">
        <i class="fa fa-bars"></i>
      </a>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Adjust <a> tags to ignore <base> tag and use original relative paths
        const links = document.querySelectorAll('a');

        links.forEach(link => {
          const originalHref = link.getAttribute('href');

          // Only adjust if it's a relative path
          if (originalHref && !originalHref.startsWith('http') && !originalHref.startsWith('https') && !originalHref.startsWith('//')) {
            link.setAttribute('href', originalHref);  // Remove base URL effect
          }
        });
      });

    </script>
  </header>
  <main>
    <!-- Tab content -->
    <!-- index-->
    <div id="index" class="tabcontent">
      <div class="notfibar">
        <p id="tick" class="activetick">Welcome to Titan Network v3</p>
      </div>
      <div class="centerh containerc">
        <h1>Titan Network</h1>
        <h4>Blocked? Use the mirror! <a href="//tinyurl.com/8081GN">tinyurl.com/8081GN</a></h4>
        <h4>
          <p>v3.0.0 | <a href="//nookalley.com">powered by nookalley.com</a></p>
        </h4>
      </div>
    </div>
    <!-- games-->
    <div id="games" class="tabcontent">
      <br>
      <br>
      <div id="gamesContent">
        <center>
          <h1>Loading...</h1>
          <img class="loaf" alt="loading-icon" id="loader" src=" /img/loader.gif">
        </center>
      </div>
    </div>
    <!-- end of games-->
    <!-- Currently Playing -->
    <div id="Now Playing" class="tabcontent">
      <iframe onload="loafhide()" allowfullscreen="true" webkitallowfullscreen="true" mozallowfullscreen="true"
        oallowfullscreen="true" msallowfullscreen="true" id="player" src="./notrunning.html" class="igame"></iframe>
    </div>

    <!-- contact-->
    <div id="contact" class="tabcontent">
      <main>
        <div class="centerh containerc">
          <div class="contact">
            <h1>Submit a Game Request</h1>
            <form name="grequest" method="POST" data-netlify="true">
              <p>
                <input type="text" class="contactbox" name="gname" placeholder="Game Name" />
              </p>
              <p>
                <textarea class="contactbox" name="message" placeholder="Addition Details"></textarea></label>
              </p>
              <p>
                <button style="background-color: transparent;border: none;" type="submit"><a
                    class="button">Send</a></button>
              </p>
            </form>
          </div>
        </div>
      </main>
    </div>
    <!-- end of contact-->
  </main>
  <footer><!-- Source Code from Nook Alley (aka bcat1023), this line can not be removed, check the licence.--></footer>
</body>

</html>
<!-- Has to be at the end to function -->
<script src="/js/primary.js"></script>
<script src="/tests/console.js"></script>
<script>

  openPage(event, 'index')

  // Load Games Page
  var gamesPage = document.getElementById('gamesContent')
  fetch(`https://deploy-preview-21--titannetwork.netlify.app/games.html`)
    .then(response => response.text())
    .then(html => {
      // Write the HTML to the new tab
      var inject = '';
      gamesPage.innerHTML = inject + html;
    })
    .catch(err => alert(`Error loading: ${err}`, err));
</script>
<div>
</div>
</div>